  UMOUNT(8)  

UMOUNT(8)

FreeBSD System Manager's Manual

UMOUNT(8)

[名称](#__u540D___u79F0_)
=======================

`umount` —

卸载文件系统

[概要](#__u6982___u8981_)
=======================

`umount` \[`-fNnv`\] special ... | node ... | fsid ... `umount` `-a` | `-A` \[`-F` fstab\] \[`-fnv`\] \[`-h` host\] \[`-t` type\]

[描述](#__u63CF___u8FF0_)
=======================

`umount` 实用程序调用 unmount(2) 系统调用以从文件系统树中删除文件系统。 文件系统可以通过其 special 设备或远程节点 (rhost:path), 挂载点节点 node 的路径或由 root 运行时由 “mount -v” 报告的文件系统 ID fsid 指定。

选项如下：

[`-a`](#a)

fstab(5) 中描述的所有文件系统都已卸载。

[`-A`](#A)

所有当前挂载的文件系统都被卸载，除了那些挂载在 / 或 /dev 的文件系统。

[`-F`](#F) fstab

指定要使用的 fstab 文件。

[`-f`](#f)

文件系统被强制卸载。 活动的特殊设备继续工作，但如果尝试进一步访问，所有其他文件都会返回错误。 不能强制卸载根文件系统。 对于 NFS，对于无响应的服务器，强制卸载可能需要 1 分钟或更长时间才能完成，并且在这种情况下可能会丢弃尚未写入服务器的数据。 如果一个进程（例如不带 `-f` 标志的 `umount` ）挂在 NFS 挂载点上，请改用 `-N` 标志。 此外，在 rpc.lockd(8) 运行时强制卸载 NFSv3 挂载是不安全的，并且可能导致崩溃。

[`-h`](#h) host

只有从指定主机挂载的文件系统才会被卸载。 该选项暗示了 `-A` 选项，除非使用 `-t` 选项另外指定，否则只会卸载 NFS 文件系统。

[`-N`](#N)

在不检查安装路径的情况下强制卸载 NFS 安装点。 此选项只能与挂载点 node 的路径一起使用，并且必须完全按照挂载时的方式指定路径。 当进程挂起等待无响应的 NFS 服务器同时在已安装的 vnode 上持有 vnode 锁时，此选项很有用，这样带有 `-f` 标志的 `umount` 无法完成。 使用此选项可能会导致未刷新到 NFS 服务器的文件更新丢失。

[`-n`](#n)

除非使用 `-f` ，否则 `umount` 不会卸载活动文件系统。 但是，它将执行刷新。 此标志禁用此行为，如果有任何文件打开，则阻止刷新。

[`-t`](#t) type

用于指示只能对指定类型的文件系统执行操作。 可以在逗号分隔的列表中指定一种以上的类型。 文件系统类型列表可以以 “no” 为前缀，以指定 _not_ 对其采取操作的文件系统类型。 例如， `umount` 命令：

umount -a -t nfs,nullfs 

卸载 fstab(5) 文件中列出的所有 NFS 和 NULLFS 类型的文件系统。

[`-v`](#v)

详细，在卸载每个文件系统时会打印出附加信息。

[环境](#__u73AF___u5883_)
=======================

[`PATH_FSTAB`](#PATH_FSTAB)

如果设置了环境变量 `PATH_FSTAB` ，则所有操作都针对指定的文件执行。 如果进程环境或内存地址空间被视为 “tainted” ，则不会使用 `PATH_FSTAB` 。（有关详细信息，请参阅 issetugid(2) 。）

[文件](#__u6587___u4EF6_)
=======================

/etc/fstab

文件系统表

[参见](#__u53C2___u89C1_)
=======================

unmount(2), fstab(5), autounmountd(8), mount(8)

[历史](#__u5386___u53F2_)
=======================

`umount` 实用程序出现在 Version 1 AT&T UNIX 中。

June 19, 2020

FreeBSD 13.1-RELEASE