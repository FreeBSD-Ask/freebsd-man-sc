  FUSER(1)  

FUSER(1)

FreeBSD General Commands Manual

FUSER(1)

[名称](#__u540D___u79F0_)
=======================

`fuser` —

列出打开一个或多个文件的所有进程的 ID

[概要](#__u6982___u8981_)
=======================

`fuser` \[`-cfkmu`\] \[`-M` core\] \[`-N` system\] \[`-s` signal\] file ...

[描述](#__u63CF___u8FF0_)
=======================

`fuser` 实用程序将打开一个或多个命名文件的进程的 PID 写入标准输出。 对于块和字符特殊设备，列出了使用该设备上文件的所有进程。 如果文件被显式打开，则认为文件被进程打开，它是工作目录、根目录、jail 根目录、活动的可执行文本、内核跟踪文件或进程的控制终端。 如果指定了 `-m` 选项，则 `fuser` 实用程序还将查看映射文件。

可以使用以下选项：

[`-c`](#c)

将文件视为挂载点并报告文件系统中打开的任何文件。

[`-f`](#f)

报告必须仅用于命名文件。

[`-k`](#k)

向报告的进程发送信号，默认为 (`SIGKILL`) 。

[`-M`](#M) core

从指定的核心而不是默认的 /dev/kmem 中提取与名称列表关联的值。

[`-m`](#m)

也可以搜索映射文件。

[`-N`](#N) system

从指定系统中提取名称列表，而不是从默认系统中引导的内核映像。

[`-s`](#s) signal

使用给定的信号名称而不是默认的 `SIGKILL` 。

[`-u`](#u)

将每个进程关联的用户名写入stderr。

写入 stderr 的以下符号将指示文件的使用方式：

**a**

该文件仅作为附加打开，指定了 (`O_APPEND`) 。

**c**

该文件是进程的当前工作目录。

**d**

该进程在写入此文件时绕过 fs 缓存，指定了 (`O_DIRECT`) 。

**e**

排他锁处于保持状态。

**j**

该文件是该进程的 jail 根目录。

**m**

该文件已映射。

**r**

该文件是进程的根目录。

**s**

共享锁被持有。

**t**

该文件是进程的内核跟踪文件。

**w**

该文件已打开以供写入。

**x**

该文件是进程的可执行文本。

**y**

该进程使用此文件作为其控制 tty。

[退出状态](#__u9000___u51FA___u72B6___u6001_)
=========================================

The `fuser` utility exits 0 on success, and >0 if an error occurs.

[实例](#__u5B9E___u4F8B_)
=======================

命令 ‘`fuser -fu .`’ 将使用当前目录的进程的进程 ID 写入标准输出，并将这些进程如何使用目录的指示以及与使用该目录的进程关联的用户名写入 stderr。

[参见](#__u53C2___u89C1_)
=======================

fstat(1), ps(1), systat(1), iostat(8), pstat(8), vmstat(8)

[标准](#__u6807___u51C6_)
=======================

`fuser` 实用程序应符合 IEEE Std 1003.1-2004 (“POSIX.1”) 。

[历史](#__u5386___u53F2_)
=======================

`fuser` 实用程序出现在 FreeBSD 9.0 中。

[作者](#__u4F5C___u8005_)
=======================

`fuser` 实用程序和本手册页由 Stanislav Sedov <[stas@FreeBSD.org](mailto:stas@FreeBSD.org)\> 编写。

[缺陷](#__u7F3A___u9677_)
=======================

由于 `fuser` 会拍摄系统快照，因此它只在很短的时间内正确。 当通过 kvm(3) 接口工作时，报告将仅限于 `fuser` 实用程序知道的文件系统（目前只有 cd9660、devfs、nfs、ntfs、nwfs、udf、ufs 和 zfs）。

June 18, 2020

FreeBSD 13.1-RELEASE