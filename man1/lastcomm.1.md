  LASTCOMM(1)  

LASTCOMM(1)

FreeBSD General Commands Manual

LASTCOMM(1)

[名称](#__u540D___u79F0_)
=======================

`lastcomm` —

显示最后执行的命令

[概要](#__u6982___u8981_)
=======================

`lastcomm` \[`-EScesu`\] \[`-f` file\] \[`+`format\] \[command ...\] \[user ...\] \[terminal ...\]

[描述](#__u63CF___u8FF0_)
=======================

`lastcomm` 实用程序提供有关先前执行的命令的信息。 不带参数， `lastcomm` 打印有关当前记帐文件生命周期内记录的所有命令的信息。

可以使用以下选项：

[`-E`](#E)

打印进程退出的时间。

[`-S`](#S)

打印进程开始的时间。

[`-c`](#c)

打印进程使用的 cpu 时间量。

[`-e`](#e)

打印进程使用的经过时间量。

[`-s`](#s)

打印进程使用的系统时间量。

[`-u`](#u)

打印进程使用的用户时间量。

[`-f`](#f) file

从 file 而不是默认的 /var/account/acct 读取。 如果 file 是单破折号 (‘-’) ， `lastcomm` 从标准输入读取会计条目。

带有前导加号 (‘+’) 的操作数后跟一个用户定义的格式字符串，该字符串指定显示进程的开始或退出日期和时间的格式。 格式字符串可以包含 strftime(3) 手册页中描述的任何转换规范，以及任意文本。

如果未指定任何选项，则假定为 `-cS` 。 如果使用参数调用 `lastcomm` ，则仅打印具有匹配 command 名称、 user 名或 terminal 名称的记帐条目。 例如：

`lastcomm a.out root ttyd0`

将生成一个由用户 root 在终端 ttyd0 上执行的名为 a.out 的所有命令的列表。

对于每个进程条目，将打印以下内容。

*   运行进程的用户的名称。
*   标志，由系统中的记帐工具累积。
*   调用进程的命令名称。
*   进程使用的 CPU (`-c` `-、`) wall (`-e` `-、`) system (`-s` `-、`) 或用户 (`-u`) 时间量（以秒为单位）。
*   进程开始 (`-S`) 或退出 (`-E`) 的时间。

标志编码如下：“S” 表示命令由超级用户执行，“F” 表示命令在 fork 之后运行，但没有后面的 exec(3), \`\`D'' 表示命令以生成 core 文件而终止，表示命令以信号终止。

默认情况下，会计分录从 `lastcomm` 执行的时间开始按时间倒退打印。 但是，如果 `lastcomm` 从其标准输入中读取条目，则条目将按照它们被读取的顺序打印。

[文件](#__u6587___u4EF6_)
=======================

/var/account/acct

默认记帐文件

[实例](#__u5B9E___u4F8B_)
=======================

命令

`lastcomm -Ee`

将打印在 /var/account/acct 中登录的每个命令的退出时间和经过时间，而

`tail -f -c 0 /var/account/acct | lastcomm -f -`

将打印每个终止命令的详细信息。

[参见](#__u53C2___u89C1_)
=======================

last(1), sigaction(2), strftime(3), acct(5), core(5)

[历史](#__u5386___u53F2_)
=======================

`lastcomm` 命令出现在 3.0BSD 中。

May 17, 2012

FreeBSD 13.1-RELEASE